<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#E8B4B8">
    <title>秘密花园 🌸</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&family=Ma+Shan+Zheng&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="secret-page">
    <!-- 飘落的爱心/花瓣动画容器 -->
    <div class="falling-hearts" id="fallingHearts"></div>
    
    <!-- 返回按钮 -->
    <a href="index.html" class="secret-back">← 返回主页</a>
    
    <!-- 秘密花园内容 -->
    <div class="secret-container">
        <div class="secret-content">
            <h1 class="secret-title">🌸 秘密花园 🌸</h1>
            <p class="secret-subtitle">欢迎来到只属于我们的小天地</p>
            
            <!-- 情书区域 -->
            <div class="love-letter">
                <div class="letter-header">
                    <span class="letter-to">致：亲爱的小嘟嘟</span>
                </div>
                
                <div class="letter-body">
                    <p>
                        在这个世界里，有很多的词不达意，
                    </p>
                    
                    <p>
                        一开始，我们以为讲完一千零一夜的故事就能结婚。
                    </p>
                    
                    <p>
                        其实，一千零一夜是天方夜谭。我们读的也不是它，是红楼梦。
                    </p>
                    
                    <p>
                        直到现在，小三千天飞驰而过，我们终于要永永远远地相伴一生。
                    </p>
                    
                    <p>
                        其实，一千零一夜里没有一千多个故事，甚至它也没有365个故事，我也记不起究竟看过哪些故事。
                    </p>
                    
                    <p>
                        我能想起的只有我们一起的日日夜夜中的故事。
                    </p>
                    
                    <p>
                        时间疾驰而过，很多事情都记不真切，还好那一张张照片和视频替我们留住我们的青春。
                    </p>
                    
                    <p>
                        我看得出你的情绪，我努力走进你的内心深处。
                    </p>
                    
                    <p class="highlight">
                        心疼
                    </p>
                    
                    <p>
                        在看到我的缺点的时候仍然希望我能健康快乐的活着
                    </p>
                    
                    <p>
                        不上进偷懒纠正
                    </p>
                    
                    <p class="highlight">
                        规划里有我
                    </p>
                    
                    <p>
                        机器学习的算法包围着我们的生活，每一次精准的推荐，每一次路线的规划，每一次垃圾短信的拦截，可是机器学习学不会藏在背后的情绪
                    </p>
                    
                    <p class="separator">
                        ---
                    </p>
                </div>
                
                <div class="letter-footer">
                    <span class="letter-from">永远爱你的人</span>
                    <span class="letter-date">写于我们在一起的第 <span id="daysTogetherInLetter">0</span> 天</span>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/countdown.js"></script>
    <script src="js/main.js"></script>
    <script src="js/easter-eggs.js"></script>
    
    <script>
        // 更新情书中的在一起天数
        function updateLetterDays() {
            const daysElement = document.getElementById('daysTogetherInLetter');
            // 确保countdown.js已加载并提供getDaysTogether函数
            if (daysElement && typeof getDaysTogether === 'function') {
                daysElement.textContent = getDaysTogether();
            } else if (daysElement) {
                // 如果函数未加载，稍后重试
                setTimeout(updateLetterDays, 200);
            }
        }
        
        // 页面加载时更新（延迟确保countdown.js已加载）
        const INIT_DELAY = 100;
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', updateLetterDays);
        } else {
            setTimeout(updateLetterDays, INIT_DELAY);
        }
        
        // 创建飘落的爱心 - 减少频率，更优雅
        function createFallingHeart() {
            const container = document.getElementById('fallingHearts');
            const heart = document.createElement('div');
            heart.className = 'heart';
            
            // 70% 概率是花瓣，30% 是爱心
            heart.textContent = Math.random() > 0.3 ? '🌸' : '❤️';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
            heart.style.fontSize = (Math.random() * 8 + 16) + 'px';
            container.appendChild(heart);
            
            // 动画结束后移除元素
            setTimeout(() => {
                heart.remove();
            }, 8000);
        }
        
        // 持续创建飘落的爱心 - 降低频率
        setInterval(createFallingHeart, 800);
        
        // 页面加载时创建一些初始爱心
        for (let i = 0; i < 8; i++) {
            setTimeout(createFallingHeart, i * 250);
        }
    </script>
</body>
</html>
